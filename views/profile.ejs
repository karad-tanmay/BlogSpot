<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlogSpot</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
</head>

<body>
    <div class="w-full min-h-screen bg-zinc-800 text-white p-0 m-0 tracking-tighter">
        <div class="bg-zinc-900 p-3 flex justify-between topnav">
            <a class="text-xl" href="/">BlogSpot</a>
            <!-- <h1 class="text-xl">BlogSpot</h1> -->
            <div>
                <a class="px-2 pt-1 pb-2 border-1 border-white bg-zinc-700 rounded-lg mr-2" href="/newblog">Create Blog</a>
                <a class="px-2 pt-1 pb-2 border-1 border-white bg-zinc-700 rounded-lg mr-2" href="/profile/edit">Edit Profile</a>
                <a class="px-2 pt-1 pb-2 border-1 border-white bg-zinc-700 rounded-lg mr-2" href="/logout">Logout</a>
                <a class="px-2 pt-1 pb-2 border-1 border-white bg-zinc-700 rounded-lg" href="/profile/delete">Delete Account</a>
            </div>
        </div>
        <div class="px-10 py-5">
            <h1 class="text-3xl">Your Profile</h1>
            <div class="w-full justify-items-center px-10 py-5 text">
                <div class="border-1 border-white bg-zinc-700 rounded-lg px-8 py-5">
                    <h1 class="mb-2 text-xl">Name: <%= user.name %>
                    </h1>
                    <h1 class="mb-2 text-xl">Username: <%= user.username %>
                    </h1>
                    <h1 class="mb-2 text-xl">Email ID: <%= user.email %>
                    </h1>
                    <h1 class="text-xl">Number of Blogs Published: <%= user.blogs.length %>
                    </h1>
                </div>
            </div>
            <div>
                <h1 class="text-3xl mb-5">Your Blogs ></h1>
                <div class="blog-cards flex gap-3 flex-wrap">
                    <% blogs.forEach(function(blog){ %>
                        <div class="flex flex-col justify-between h-72 w-64 rounded-lg px-3 py-2 pb-3 border-1">
                            <div class="blog-card w-58 overflow-hidden">
                                <div class="flex justify-between">
                                <h3 class="text-xl"><%= blog.title %></h3>
                                <h5>Likes: <%= blog.likes.length %></h5>
                                </div>
                                <div class="flex justify-between">
                                    <h5 class="text-">~ <%= user.name %></h5>
                                    <h5 class="text-"><%= `${blog.date.getDate()}/${blog.date.getMonth()}/${blog.date.getFullYear()}` %></h5>
                                </div>
                                <p><%= blog.content %></p>
                            </div>
                            <div class="flex justify-between mt-2">
                                <a class="outline-none border-1 rounded-lg px-3 py-1 bg-zinc-700 mr-2" href="/blog/view/<%= blog._id %>">Read More</a>
                                <a class="outline-none border-1 rounded-lg px-3 py-1 bg-zinc-700 mr-2" href="/blog/edit/<%= blog._id %>">Edit</a>
                                <a class="outline-none border-1 rounded-lg px-3 py-1 bg-zinc-700" href="/blog/delete/<%= blog._id %>">Delete</a>
                            </div>
                        </div>
                    <% }); %>
                </div>
            </div>
        </div>
    </div>
    <script src="/javascripts/script.js"></script>
</body>

</html>
